<launch>
    <!-- launch rosbridge node-->
    <arg name="robot_name" default="$(optenv ROBOT_NAME /)" doc="robot name [robot_No1, robot_No2, robot_No3, ...]"/>
    <arg name="fixed_frame" value="$(arg robot_name)/map"/>
    <arg name="use_rviz" default="false" />
    
    <!-- launch rosbridge server-->
    <include file="$(find rosbridge_server)/launch/rosbridge_websocket.launch" />

    <!-- launch tf_web_republisher -->
    <node name="tf2_web_republisher" pkg="tf2_web_republisher" type="tf2_web_republisher" output="screen" />

    <!-- launch path generator in browers and rviz viewport -->
    <group ns="$(arg robot_name)">
        <node name="path_generator" pkg="path_generator" type="path_generator_with_browser.py" output="screen" >
            <param name="robot_name" value="$(arg robot_name)" />
        </node>
    </group>

    <!-- launch rviz -->
    <node  ns="$(arg robot_name)" pkg="rviz" type="rviz" name="rviz" args="-d $(find path_generator)/rviz/path_generator.rviz -f $(arg fixed_frame)" if="$(arg use_rviz)" />
</launch>